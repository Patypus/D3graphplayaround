<head>
    <title>Stacked Bar</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.9/d3.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js" charset="utf-8"></script>
    <script src="Data.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="gas-styles.css">
</head>
<body>
    <div class="container">
        <div id="graph">

        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function() {
            console.log(data);

            var graph = d3.select("#graph");

            for (var i = 0; i < data.length; i++) {
                var container = graph.append("div")
                                     .classed("bar-container", true);

                container.append("div")
                         .classed("planet-name", true)
                         .append("span")
                         .text(data[i].Planet);

                CreateSingleStackedBar(container, data[i].Atmosphere);
            }

              
        });

        function CreateSingleStackedBar(element, atmospheres) {
            element.selectAll("div")
                   .data(atmospheres)
                   .enter()
                   .append("div")
                   .attr("class", function (d) { return "bar-segment " + d.DataClass })
                   .append("span")
                   .text(function (d) { return d.Gas + ": " + d.Percent + "%" });
        }

    </script>
</body>